controller_manager:
  ros__parameters:
    update_rate: 50  # Hz (OpenCR은 30ms=33.3Hz로 상태를 보내지만, 50Hz도 보통 문제 없음)

    joint_state_broadcaster:
      type: joint_state_broadcaster/JointStateBroadcaster

    diff_drive_controller:
      type: diff_drive_controller/DiffDriveController

    imu_broadcaster:
      type: imu_sensor_broadcaster/IMUSensorBroadcaster


diff_drive_controller:
  ros__parameters:
    # ---- 바퀴 조인트 이름: URDF와 반드시 일치 ----
    left_wheel_names:  ["left_wheel_joint"]
    right_wheel_names: ["right_wheel_joint"]

    # ---- 로봇 기구학 파라미터(반드시 실제 값으로 수정) ----
    wheel_separation: 0.30   # [m] 좌우 바퀴 중심 간 거리 (예시)
    wheel_radius:     0.05   # [m] 바퀴 반지름 (예시)

    # ---- 명령/상태 ----
    # cmd_vel 타임아웃: 일정 시간 cmd_vel이 안 오면 정지
    cmd_vel_timeout: 2.0

    # 오도메트리 publish (필요에 따라)
    publish_rate: 50.0
    enable_odom_tf: true

    # 프레임 이름(프로젝트에 맞게)
    base_frame_id: base_link
    odom_frame_id: odom

    # 기본적으로 cmd_vel 토픽을 사용
    use_stamped_vel: false


imu_broadcaster:
  ros__parameters:
    sensor_name: imu
    frame_id: imu_link
